!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&i(e.prototype,n),r&&i(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Htjj:function(i,r,t){"use strict";t.r(r),t.d(r,"DriversModule",(function(){return w}));var o=t("ofXK"),a=t("3Pt+"),b=t("M0ag"),c=t("tyNb"),d=t("hrwK"),s=t("ZZ88"),l=t("fXoL"),u=t("3zLz"),v=t("1kSV");function f(e,i){if(1&e){var n=l.Rb();l.Qb(0,"div",2),l.Qb(1,"h4",3),l.zc(2),l.Pb(),l.Qb(3,"button",4),l.bc("click",(function(){return(0,i.dismiss)("Cross click")})),l.Qb(4,"span",5),l.zc(5,"\xd7"),l.Pb(),l.Pb(),l.Pb(),l.Qb(6,"div",6),l.Qb(7,"form",7),l.bc("ngSubmit",(function(){return l.rc(n),l.dc().saveDriver()})),l.Qb(8,"div",8),l.Qb(9,"div",9),l.Qb(10,"span",10),l.Mb(11,"i",11),l.Pb(),l.Pb(),l.Qb(12,"input",12),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.firstname=e})),l.Pb(),l.Pb(),l.Qb(13,"div",8),l.Qb(14,"div",9),l.Qb(15,"span",10),l.Mb(16,"i",11),l.Pb(),l.Pb(),l.Qb(17,"input",13),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.lastname=e})),l.Pb(),l.Pb(),l.Qb(18,"div",8),l.Qb(19,"div",9),l.Qb(20,"span",10),l.Mb(21,"i",14),l.Pb(),l.Pb(),l.Qb(22,"input",15),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.email=e})),l.Pb(),l.Pb(),l.Qb(23,"div",8),l.Qb(24,"div",9),l.Qb(25,"span",10),l.Mb(26,"i",16),l.Pb(),l.Pb(),l.Qb(27,"input",17),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.phoneNumber=e})),l.Pb(),l.Pb(),l.Qb(28,"div",8),l.Qb(29,"div",9),l.Qb(30,"span",10),l.Mb(31,"i",18),l.Pb(),l.Pb(),l.Qb(32,"input",19),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.lineNumber=e})),l.Pb(),l.Pb(),l.Qb(33,"div",8),l.Qb(34,"div",9),l.Qb(35,"span",10),l.Mb(36,"i",20),l.Pb(),l.Pb(),l.Qb(37,"input",21),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.address=e})),l.Pb(),l.Pb(),l.Qb(38,"div",8),l.Qb(39,"div",9),l.Qb(40,"span",10),l.Mb(41,"i",22),l.Pb(),l.Pb(),l.Qb(42,"input",23),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.socialId=e})),l.Pb(),l.Pb(),l.Qb(43,"div",8),l.Qb(44,"div",24),l.Qb(45,"span",10),l.Mb(46,"i",25),l.Pb(),l.Qb(47,"div"),l.Qb(48,"select",26),l.Qb(49,"option"),l.zc(50,"1"),l.Pb(),l.Qb(51,"option"),l.zc(52,"2"),l.Pb(),l.Qb(53,"option"),l.zc(54,"3"),l.Pb(),l.Qb(55,"option"),l.zc(56,"4"),l.Pb(),l.Qb(57,"option"),l.zc(58,"5"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(59,"div",8),l.Qb(60,"div",9),l.Qb(61,"span",10),l.Mb(62,"i",27),l.Pb(),l.Pb(),l.Mb(63,"input",28),l.Pb(),l.Qb(64,"div",8),l.Qb(65,"div",9),l.Qb(66,"span",10),l.zc(67,"@"),l.Pb(),l.Pb(),l.Qb(68,"input",29),l.bc("ngModelChange",(function(e){return l.rc(n),l.dc().driver.username=e})),l.Pb(),l.Pb(),l.Qb(69,"div",30),l.Qb(70,"button",31),l.bc("click",(function(){return(0,i.close)("Close click")})),l.zc(71,"Close"),l.Pb(),l.Qb(72,"button",32),l.zc(73,"Save"),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){var r=l.dc();l.yb(2),l.Ac(r.titleModal),l.yb(10),l.ic("ngModel",r.driver.firstname),l.yb(5),l.ic("ngModel",r.driver.lastname),l.yb(5),l.ic("ngModel",r.driver.email),l.yb(5),l.ic("ngModel",r.driver.phoneNumber),l.yb(5),l.ic("ngModel",r.driver.lineNumber),l.yb(5),l.ic("ngModel",r.driver.address),l.yb(5),l.ic("ngModel",r.driver.socialId),l.yb(26),l.ic("ngModel",r.driver.username)}}var p,h=((p=function(){function i(n,r){e(this,i),this.modalService=n,this.driverService=r,this.driver={},this.titleModal=""}return n(i,[{key:"ngOnInit",value:function(){this.edit?(this.titleModal="Edit driver",this.buttonName="Edit"):(this.titleModal="New driver",this.buttonName="+ Add driver")}},{key:"saveDriver",value:function(){this.edit?(console.info("hola"),this.editDriver()):this.addDriver()}},{key:"addDriver",value:function(){console.info(this.driver),this.driverService.addDriver(this.driver),this.driver={},this.modalService.dismissAll("Save driver")}},{key:"editDriver",value:function(){console.info(this.driver),this.editingDriver=this.driver,this.driverService.editDriver(this.driver),this.driver={},this.modalService.dismissAll("Edit driver")}},{key:"open",value:function(e){var i=this;this.modalService.open(e).result.then((function(e){i.closeResult="Closed with: "+e,location.reload()}),(function(e){i.closeResult="Dismissed "+i.getDismissReason(e)}))}},{key:"getDismissReason",value:function(e){return e===v.a.ESC?"by pressing ESC":e===v.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}}]),i}()).\u0275fac=function(e){return new(e||p)(l.Lb(v.l),l.Lb(d.a))},p.\u0275cmp=l.Fb({type:p,selectors:[["app-driver-modal"]],inputs:{driver:"driver",edit:"edit"},decls:4,vars:1,consts:[[1,"btn","btn-success",3,"click"],["content",""],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],[1,"form-group","input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"fa","fa-user"],["placeholder","First name","type","text","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Last name","type","text","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-envelope-o"],["placeholder","Email","type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-mobile"],["placeholder","Phone number","type","text","name","phoneNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-phone"],["placeholder","Line number","type","text","name","lineNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-map-marker"],["placeholder","Address","type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-id-card-o"],["placeholder","Social ID","type","text","name","socialId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-prepend",2,"float","left"],[1,"fa","fa-car"],[1,"form-control"],[1,"fa","fa-key"],["placeholder","Password","type","password",1,"form-control"],["placeholder","Username","type","text","name","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-success"]],template:function(e,i){if(1&e){var n=l.Rb();l.Qb(0,"button",0),l.bc("click",(function(){l.rc(n);var e=l.qc(3);return i.open(e)})),l.zc(1),l.Pb(),l.xc(2,f,74,9,"ng-template",null,1,l.yc)}2&e&&(l.yb(1),l.Ac(i.buttonName))},directives:[a.p,a.i,a.j,a.a,a.h,a.k,a.l,a.o],styles:[""]}),p);function m(e,i){if(1&e){var n=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.zc(2),l.Pb(),l.Qb(3,"td"),l.zc(4),l.Pb(),l.Qb(5,"td"),l.zc(6),l.Pb(),l.Qb(7,"td"),l.zc(8),l.Pb(),l.Qb(9,"td"),l.zc(10),l.Pb(),l.Qb(11,"td"),l.zc(12),l.Pb(),l.Qb(13,"td"),l.Mb(14,"app-driver-modal",12),l.zc(15," \xa0 "),l.Qb(16,"button",13),l.bc("click",(function(e){l.rc(n);var r=i.$implicit;return l.dc(2).deleteDriver(e,r)})),l.zc(17,"Delete"),l.Pb(),l.Pb(),l.Pb()}if(2&e){var r=i.$implicit;l.yb(2),l.Ac(r.firstname),l.yb(2),l.Ac(r.lastname),l.yb(2),l.Ac(r.username),l.yb(2),l.Ac(r.email),l.yb(2),l.Ac(r.phoneNumber),l.yb(2),l.Ac(r.car),l.yb(2),l.ic("edit",!0)("driver",r)}}function g(e,i){if(1&e&&(l.Qb(0,"div",9),l.Qb(1,"table",10),l.Qb(2,"thead"),l.Qb(3,"tr"),l.Qb(4,"th"),l.zc(5,"Name"),l.Pb(),l.Qb(6,"th"),l.zc(7,"Last Name"),l.Pb(),l.Qb(8,"th"),l.zc(9,"Username"),l.Pb(),l.Qb(10,"th"),l.zc(11,"Email"),l.Pb(),l.Qb(12,"th"),l.zc(13,"Phone number"),l.Pb(),l.Qb(14,"th"),l.zc(15,"Car"),l.Pb(),l.Pb(),l.Pb(),l.Qb(16,"tbody"),l.xc(17,m,18,8,"tr",11),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.dc();l.yb(17),l.ic("ngForOf",n.drivers)}}function P(e,i){1&e&&(l.Qb(0,"p"),l.zc(1,"There are no drivers yet."),l.Pb())}var Q,y,M,C=[{path:"",component:(Q=function(){function i(n){e(this,i),this.driverService=n,this.buttonNameAdd="+ Add driver",this.buttonNameEdit="Edit",this.drivers={},this.originalDrivers={},this.search=""}return n(i,[{key:"ngOnInit",value:function(){this.getDrivers()}},{key:"getDrivers",value:function(){var e=this;this.driverService.getDrivers().subscribe((function(i){console.log(i),e.drivers=i,e.originalDrivers=i}))}},{key:"deleteDriver",value:function(e,i){console.info(e),console.info(i),confirm("Are you sure to delete "+i.username+"?")&&this.driverService.deleteDriver(i)}},{key:"changeFilterHandler",value:function(){var e=this;this.drivers=this.originalDrivers.filter((function(i){return!!(""==e.search||i.email&&i.email.toLowerCase().includes(e.search.toLowerCase())||i.firstname&&i.firstname.toLowerCase().includes(e.search.toLowerCase())||i.lastname&&i.lastname.toLowerCase().includes(e.search.toLowerCase())||i.username&&i.username.toLowerCase().includes(e.search.toLowerCase())||i.phoneNumber&&i.phoneNumber.toLowerCase().includes(e.search.toLowerCase()))}))}}]),i}(),Q.\u0275fac=function(e){return new(e||Q)(l.Lb(d.a))},Q.\u0275cmp=l.Fb({type:Q,selectors:[["app-drivers"]],decls:11,vars:7,consts:[[3,"heading","icon"],[1,"nav-driver"],["type","search","placeholder"," Search driver",3,"ngModel","ngModelChange","change"],[3,"edit"],[1,"row"],[1,"col","col-xl-12","col-lg-12"],[1,"card","mb-3"],["class","card-body table-responsive",4,"ngIf","ngIfElse"],["nodrivers",""],[1,"card-body","table-responsive"],[1,"table","table-hover","table-striped"],[4,"ngFor","ngForOf"],[3,"edit","driver"],[1,"btn","btn-danger",2,"padding-left","10px",3,"click"]],template:function(e,i){if(1&e&&(l.Qb(0,"div"),l.Mb(1,"app-page-header",0),l.Qb(2,"div",1),l.Qb(3,"input",2),l.bc("ngModelChange",(function(e){return i.search=e}))("change",(function(){return i.changeFilterHandler()})),l.Pb(),l.Mb(4,"app-driver-modal",3),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"div",5),l.Qb(7,"div",6),l.xc(8,g,18,1,"div",7),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.xc(9,P,2,0,"ng-template",null,8,l.yc)),2&e){var n=l.qc(10);l.ic("@routerTransition",void 0),l.yb(1),l.ic("heading","Drivers")("icon","fa-male"),l.yb(2),l.ic("ngModel",i.search),l.yb(1),l.ic("edit",!1),l.yb(4),l.ic("ngIf",i.drivers.length>0)("ngIfElse",n)}},directives:[u.a,a.a,a.h,a.k,h,o.l,o.k],styles:[".nav-driver[_ngcontent-%COMP%]{width:100%;text-align:right;padding-bottom:10px}.nav-driver[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;margin-top:10px}"],data:{animation:[Object(s.a)()]}}),Q)}],k=((M=function i(){e(this,i)}).\u0275mod=l.Jb({type:M}),M.\u0275inj=l.Ib({factory:function(e){return new(e||M)},imports:[[c.e.forChild(C),a.e,a.n],c.e]}),M),w=((y=function i(){e(this,i)}).\u0275mod=l.Jb({type:y}),y.\u0275inj=l.Ib({factory:function(e){return new(e||y)},imports:[[o.b,k,b.b,a.e,a.n]]}),y)}}])}();