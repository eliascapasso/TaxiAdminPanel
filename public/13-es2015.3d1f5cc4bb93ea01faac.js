(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Htjj:function(e,r,i){"use strict";i.r(r),i.d(r,"DriversModule",(function(){return P}));var t=i("ofXK"),n=i("3Pt+"),o=i("M0ag"),b=i("tyNb"),c=i("hrwK"),d=i("ZZ88"),a=i("fXoL"),s=i("3zLz"),l=i("1kSV");function v(e,r){if(1&e){const e=a.Rb();a.Qb(0,"div",2),a.Qb(1,"h4",3),a.zc(2),a.Pb(),a.Qb(3,"button",4),a.bc("click",(function(){return(0,r.dismiss)("Cross click")})),a.Qb(4,"span",5),a.zc(5,"\xd7"),a.Pb(),a.Pb(),a.Pb(),a.Qb(6,"div",6),a.Qb(7,"form",7),a.bc("ngSubmit",(function(){return a.rc(e),a.dc().saveDriver()})),a.Qb(8,"div",8),a.Qb(9,"div",9),a.Qb(10,"span",10),a.Mb(11,"i",11),a.Pb(),a.Pb(),a.Qb(12,"input",12),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.firstname=r})),a.Pb(),a.Pb(),a.Qb(13,"div",8),a.Qb(14,"div",9),a.Qb(15,"span",10),a.Mb(16,"i",11),a.Pb(),a.Pb(),a.Qb(17,"input",13),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.lastname=r})),a.Pb(),a.Pb(),a.Qb(18,"div",8),a.Qb(19,"div",9),a.Qb(20,"span",10),a.Mb(21,"i",14),a.Pb(),a.Pb(),a.Qb(22,"input",15),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.email=r})),a.Pb(),a.Pb(),a.Qb(23,"div",8),a.Qb(24,"div",9),a.Qb(25,"span",10),a.Mb(26,"i",16),a.Pb(),a.Pb(),a.Qb(27,"input",17),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.phoneNumber=r})),a.Pb(),a.Pb(),a.Qb(28,"div",8),a.Qb(29,"div",9),a.Qb(30,"span",10),a.Mb(31,"i",18),a.Pb(),a.Pb(),a.Qb(32,"input",19),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.lineNumber=r})),a.Pb(),a.Pb(),a.Qb(33,"div",8),a.Qb(34,"div",9),a.Qb(35,"span",10),a.Mb(36,"i",20),a.Pb(),a.Pb(),a.Qb(37,"input",21),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.address=r})),a.Pb(),a.Pb(),a.Qb(38,"div",8),a.Qb(39,"div",9),a.Qb(40,"span",10),a.Mb(41,"i",22),a.Pb(),a.Pb(),a.Qb(42,"input",23),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.socialId=r})),a.Pb(),a.Pb(),a.Qb(43,"div",8),a.Qb(44,"div",24),a.Qb(45,"span",10),a.Mb(46,"i",25),a.Pb(),a.Qb(47,"div"),a.Qb(48,"select",26),a.Qb(49,"option"),a.zc(50,"1"),a.Pb(),a.Qb(51,"option"),a.zc(52,"2"),a.Pb(),a.Qb(53,"option"),a.zc(54,"3"),a.Pb(),a.Qb(55,"option"),a.zc(56,"4"),a.Pb(),a.Qb(57,"option"),a.zc(58,"5"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(59,"div",8),a.Qb(60,"div",9),a.Qb(61,"span",10),a.Mb(62,"i",27),a.Pb(),a.Pb(),a.Mb(63,"input",28),a.Pb(),a.Qb(64,"div",8),a.Qb(65,"div",9),a.Qb(66,"span",10),a.zc(67,"@"),a.Pb(),a.Pb(),a.Qb(68,"input",29),a.bc("ngModelChange",(function(r){return a.rc(e),a.dc().driver.username=r})),a.Pb(),a.Pb(),a.Qb(69,"div",30),a.Qb(70,"button",31),a.bc("click",(function(){return(0,r.close)("Close click")})),a.zc(71,"Close"),a.Pb(),a.Qb(72,"button",32),a.zc(73,"Save"),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=a.dc();a.yb(2),a.Ac(e.titleModal),a.yb(10),a.ic("ngModel",e.driver.firstname),a.yb(5),a.ic("ngModel",e.driver.lastname),a.yb(5),a.ic("ngModel",e.driver.email),a.yb(5),a.ic("ngModel",e.driver.phoneNumber),a.yb(5),a.ic("ngModel",e.driver.lineNumber),a.yb(5),a.ic("ngModel",e.driver.address),a.yb(5),a.ic("ngModel",e.driver.socialId),a.yb(26),a.ic("ngModel",e.driver.username)}}let u=(()=>{class e{constructor(e,r){this.modalService=e,this.driverService=r,this.driver={},this.titleModal=""}ngOnInit(){this.edit?(this.titleModal="Edit driver",this.buttonName="Edit"):(this.titleModal="New driver",this.buttonName="+ Add driver")}saveDriver(){this.edit?(console.info("hola"),this.editDriver()):this.addDriver()}addDriver(){console.info(this.driver),this.driverService.addDriver(this.driver),this.driver={},this.modalService.dismissAll("Save driver")}editDriver(){console.info(this.driver),this.editingDriver=this.driver,this.driverService.editDriver(this.driver),this.driver={},this.modalService.dismissAll("Edit driver")}open(e){this.modalService.open(e).result.then(e=>{this.closeResult="Closed with: "+e,location.reload()},e=>{this.closeResult="Dismissed "+this.getDismissReason(e)})}getDismissReason(e){return e===l.a.ESC?"by pressing ESC":e===l.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}}return e.\u0275fac=function(r){return new(r||e)(a.Lb(l.l),a.Lb(c.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-driver-modal"]],inputs:{driver:"driver",edit:"edit"},decls:4,vars:1,consts:[[1,"btn","btn-success",3,"click"],["content",""],[1,"modal-header"],[1,"modal-title"],["aria-label","Close","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","form",3,"ngSubmit"],[1,"form-group","input-group"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"fa","fa-user"],["placeholder","First name","type","text","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Last name","type","text","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-envelope-o"],["placeholder","Email","type","text","name","email",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-mobile"],["placeholder","Phone number","type","text","name","phoneNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-phone"],["placeholder","Line number","type","text","name","lineNumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-map-marker"],["placeholder","Address","type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-id-card-o"],["placeholder","Social ID","type","text","name","socialId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-prepend",2,"float","left"],[1,"fa","fa-car"],[1,"form-control"],[1,"fa","fa-key"],["placeholder","Password","type","password",1,"form-control"],["placeholder","Username","type","text","name","username",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-success"]],template:function(e,r){if(1&e){const e=a.Rb();a.Qb(0,"button",0),a.bc("click",(function(){a.rc(e);const i=a.qc(3);return r.open(i)})),a.zc(1),a.Pb(),a.xc(2,v,74,9,"ng-template",null,1,a.yc)}2&e&&(a.yb(1),a.Ac(r.buttonName))},directives:[n.p,n.i,n.j,n.a,n.h,n.k,n.l,n.o],styles:[""]}),e})();function h(e,r){if(1&e){const e=a.Rb();a.Qb(0,"tr"),a.Qb(1,"td"),a.zc(2),a.Pb(),a.Qb(3,"td"),a.zc(4),a.Pb(),a.Qb(5,"td"),a.zc(6),a.Pb(),a.Qb(7,"td"),a.zc(8),a.Pb(),a.Qb(9,"td"),a.zc(10),a.Pb(),a.Qb(11,"td"),a.zc(12),a.Pb(),a.Qb(13,"td"),a.Mb(14,"app-driver-modal",12),a.zc(15," \xa0 "),a.Qb(16,"button",13),a.bc("click",(function(i){a.rc(e);const t=r.$implicit;return a.dc(2).deleteDriver(i,t)})),a.zc(17,"Delete"),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=r.$implicit;a.yb(2),a.Ac(e.firstname),a.yb(2),a.Ac(e.lastname),a.yb(2),a.Ac(e.username),a.yb(2),a.Ac(e.email),a.yb(2),a.Ac(e.phoneNumber),a.yb(2),a.Ac(e.car),a.yb(2),a.ic("edit",!0)("driver",e)}}function p(e,r){if(1&e&&(a.Qb(0,"div",9),a.Qb(1,"table",10),a.Qb(2,"thead"),a.Qb(3,"tr"),a.Qb(4,"th"),a.zc(5,"Name"),a.Pb(),a.Qb(6,"th"),a.zc(7,"Last Name"),a.Pb(),a.Qb(8,"th"),a.zc(9,"Username"),a.Pb(),a.Qb(10,"th"),a.zc(11,"Email"),a.Pb(),a.Qb(12,"th"),a.zc(13,"Phone number"),a.Pb(),a.Qb(14,"th"),a.zc(15,"Car"),a.Pb(),a.Pb(),a.Pb(),a.Qb(16,"tbody"),a.xc(17,h,18,8,"tr",11),a.Pb(),a.Pb(),a.Pb()),2&e){const e=a.dc();a.yb(17),a.ic("ngForOf",e.drivers)}}function m(e,r){1&e&&(a.Qb(0,"p"),a.zc(1,"There are no drivers yet."),a.Pb())}const g=[{path:"",component:(()=>{class e{constructor(e){this.driverService=e,this.buttonNameAdd="+ Add driver",this.buttonNameEdit="Edit",this.drivers={},this.originalDrivers={},this.search=""}ngOnInit(){this.getDrivers()}getDrivers(){this.driverService.getDrivers().subscribe(e=>{console.log(e),this.drivers=e,this.originalDrivers=e})}deleteDriver(e,r){console.info(e),console.info(r),confirm("Are you sure to delete "+r.username+"?")&&this.driverService.deleteDriver(r)}changeFilterHandler(){this.drivers=this.originalDrivers.filter(e=>!!(""==this.search||e.email&&e.email.toLowerCase().includes(this.search.toLowerCase())||e.firstname&&e.firstname.toLowerCase().includes(this.search.toLowerCase())||e.lastname&&e.lastname.toLowerCase().includes(this.search.toLowerCase())||e.username&&e.username.toLowerCase().includes(this.search.toLowerCase())||e.phoneNumber&&e.phoneNumber.toLowerCase().includes(this.search.toLowerCase())))}}return e.\u0275fac=function(r){return new(r||e)(a.Lb(c.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-drivers"]],decls:11,vars:7,consts:[[3,"heading","icon"],[1,"nav-driver"],["type","search","placeholder"," Search driver",3,"ngModel","ngModelChange","change"],[3,"edit"],[1,"row"],[1,"col","col-xl-12","col-lg-12"],[1,"card","mb-3"],["class","card-body table-responsive",4,"ngIf","ngIfElse"],["nodrivers",""],[1,"card-body","table-responsive"],[1,"table","table-hover","table-striped"],[4,"ngFor","ngForOf"],[3,"edit","driver"],[1,"btn","btn-danger",2,"padding-left","10px",3,"click"]],template:function(e,r){if(1&e&&(a.Qb(0,"div"),a.Mb(1,"app-page-header",0),a.Qb(2,"div",1),a.Qb(3,"input",2),a.bc("ngModelChange",(function(e){return r.search=e}))("change",(function(){return r.changeFilterHandler()})),a.Pb(),a.Mb(4,"app-driver-modal",3),a.Pb(),a.Qb(5,"div",4),a.Qb(6,"div",5),a.Qb(7,"div",6),a.xc(8,p,18,1,"div",7),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.xc(9,m,2,0,"ng-template",null,8,a.yc)),2&e){const e=a.qc(10);a.ic("@routerTransition",void 0),a.yb(1),a.ic("heading","Drivers")("icon","fa-male"),a.yb(2),a.ic("ngModel",r.search),a.yb(1),a.ic("edit",!1),a.yb(4),a.ic("ngIf",r.drivers.length>0)("ngIfElse",e)}},directives:[s.a,n.a,n.h,n.k,u,t.l,t.k],styles:[".nav-driver[_ngcontent-%COMP%]{width:100%;text-align:right;padding-bottom:10px}.nav-driver[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{float:left;margin-top:10px}"],data:{animation:[Object(d.a)()]}}),e})()}];let f=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(r){return new(r||e)},imports:[[b.e.forChild(g),n.e,n.n],b.e]}),e})(),P=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(r){return new(r||e)},imports:[[t.b,f,o.b,n.e,n.n]]}),e})()}}]);